{"version":3,"sources":["ng://ionic4-tooltips/components/tooltip-box/tooltip-box.component.ts","ng://ionic4-tooltips/controllers/tooltip.cotroller.ts","ng://ionic4-tooltips/models/tooltip-event.model.ts","ng://ionic4-tooltips/directives/tooltip.directive.ts","ng://ionic4-tooltips/tooltips.module.ts"],"names":["TooltipBox","elementRef","rnd","_this","this","fadeState","role","tooltipStyles","init","Promise","resolve","initResolve","Object","defineProperty","prototype","side","setAttribute","getNativeElement","val","setStyle","nativeElement","ngAfterViewInit","Component","args","selector","template","animations","trigger","state","style","opacity","transition","animate","changeDetection","ChangeDetectionStrategy","OnPush","ElementRef","Renderer2","HostBinding","Input","TooltipController","allowMultiple","activeTooltips","addTooltip","instance","hideOthers","length","hideAll","push","removeTooltip","splice","indexOf","forEach","tooltip","Injectable","providedIn","TooltipEvent","TooltipDirective","el","appRef","platform","cfr","tooltipCtrl","vcr","debounce","desktopEvent","duration","_active","_arrow","_canShow","_debouncedPromise","_navTooltip","canShow","showTooltip","ngOnInit","event","is","mobileEvent","ngOnDestroy","_tooltipElement","destroy","tooltipHtml","show","_resetTimer","setTimeout","_createTooltipComponent","tooltipComponent","text","then","tooltipPosition","_getTooltipPosition","posLeft","left","posTop","top","arrow","arrowPosition","positionV","positionH","_tooltipTimeout","bind","onClick","onPress","onMouseEnter","active","onMouseLeave","componentFactory","resolveComponentFactory","createComponent","positionLeft","positionTop","tooltipNativeElement","rect","getBoundingClientRect","spacing","navTooltip","right","offsetWidth","offsetHeight","bottom","topOffset","leftOffset","width","height","clearTimeout","undefined","Directive","ApplicationRef","Platform","ComponentFactoryResolver","ViewContainerRef","HostListener","TooltipsModule","forRoot","ngModule","providers","NgModule","declarations","entryComponents","exports","imports","CommonModule"],"mappings":"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","sourcesContent":["import { animate, state, style, transition, trigger } from '@angular/animations';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  HostBinding,\n  Input,\n  Renderer2\n} from '@angular/core';\n\n@Component({\n  selector:    'tooltip-box',\n  templateUrl: 'tooltip-box.component.html',\n  styleUrls: [\n    'tooltip-box.component.scss'\n  ],\n  animations: [\n    trigger('fade', [\n      state('visible', style({ opacity: 1 })),\n      state('invisible', style({ opacity: 0 })),\n      transition('visible <=> invisible', animate('300ms linear'))\n    ])\n  ],\n  changeDetection:ChangeDetectionStrategy.OnPush\n})\nexport class TooltipBox implements AfterViewInit {\n  @HostBinding('@fade') fadeState:string = 'invisible';\n\n  @Input() role:string = 'status';\n  @Input() text:string;\n  @Input() tooltipHtml:string;\n  @Input() tooltipStyles:{ [key:string]:string; } = {};\n\n  @Input()\n  set arrow(side:string) {\n    this.rnd.setAttribute(\n      this.getNativeElement(),\n      'class',\n      'has-arrow ' + 'arrow-' + side\n    );\n  }\n\n  @Input()\n  set posTop(val:number) {\n    this.rnd.setStyle(\n      this.getNativeElement(),\n      'top',\n      val + 'px'\n    );\n  }\n\n  @Input()\n  set posLeft(val:number) {\n    this.rnd.setStyle(\n      this.getNativeElement(),\n      'left',\n      val + 'px'\n    );\n  }\n\n  private initResolve:Function;\n\n  public init:Promise<void>;\n\n  constructor(\n    public elementRef:ElementRef,\n    private rnd:Renderer2\n  ) {\n    this.init = new Promise<void>(\n      (resolve) => {\n        this.initResolve = resolve;\n    }\n    );\n  }\n\n  getNativeElement():HTMLElement {\n    return this.elementRef.nativeElement;\n  }\n\n  ngAfterViewInit():void {\n    this.initResolve();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {TooltipDirective} from '../directives/tooltip.directive';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TooltipController {\n  public allowMultiple:boolean = true;\n  public activeTooltips:TooltipDirective[] = [];\n\n  addTooltip(instance:TooltipDirective):void {\n    if (instance.hideOthers || !this.allowMultiple && this.activeTooltips.length > 0) {\n      this.hideAll();\n    }\n\n    this.activeTooltips.push(instance);\n  }\n\n  removeTooltip(instance:TooltipDirective):void {\n    this.activeTooltips.splice(this.activeTooltips.indexOf(instance), 1);\n  }\n\n  hideAll():void {\n    this.activeTooltips.forEach(\n      (tooltip:TooltipDirective) => {\n        tooltip.removeTooltip();\n      }\n    );\n  }\n}\n","export enum TooltipEvent {\n  CLICK = 'click',\n  HOVER = 'hover',\n  PRESS = 'press'\n}\n","import {\n  AfterViewInit,\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport {Platform} from '@ionic/angular';\n\nimport {TooltipBox} from '../components/tooltip-box/tooltip-box.component';\nimport {TooltipController} from '../controllers/tooltip.cotroller';\nimport {TooltipEvent} from '../models/tooltip-event.model';\n\n@Directive({\n  selector: '[tooltip]',\n})\nexport class TooltipDirective implements OnInit, AfterViewInit, OnDestroy {\n  @Input() debounce:number = 0;\n  @Input() desktopEvent:TooltipEvent = TooltipEvent.HOVER;\n  @Input() event:TooltipEvent;\n  @Input() hideOthers:boolean;\n  @Input() leftOffset:number;\n  @Input() mobileEvent:TooltipEvent;\n  @Input() positionV:string;\n  @Input() positionH:string;\n  @Input() role:string;\n  @Input() tooltip:string;\n  @Input() tooltipHtml:string;\n  @Input() tooltipStyles:{ [key:string]:string; } = {};\n  @Input() topOffset:number;\n\n  @Input()\n  set navTooltip(val:boolean) {\n    this._navTooltip = typeof val !== 'boolean' || val !== false;\n  }\n\n  get navTooltip():boolean {\n    return this._navTooltip;\n  }\n\n  @Input()\n  set arrow(val:boolean) {\n    this._arrow = typeof val !== 'boolean' || val !== false;\n  }\n\n  get arrow():boolean {\n    return this._arrow;\n  }\n\n  @Input() duration = 3000;\n\n  @Input()\n  set active(val:boolean) {\n    this._active = typeof val !== 'boolean' || val !== false;\n\n    this._active && this.canShow ?\n      this.showTooltip() : this.removeTooltip();\n  }\n\n  get active():boolean {\n    return this._active;\n  }\n\n  private _active:boolean = false;\n  private _arrow:boolean = false;\n  private _canShow:boolean = true;\n  private _debouncedPromise = null;\n  private _navTooltip:boolean = false;\n  private _tooltipElement:ComponentRef<TooltipBox>;\n  private _tooltipTimeout:any;\n\n  constructor(\n    private el:ElementRef,\n    private appRef:ApplicationRef,\n    private platform:Platform,\n    private cfr:ComponentFactoryResolver,\n    private tooltipCtrl:TooltipController,\n    private vcr:ViewContainerRef,\n  ) {\n\n  }\n\n  ngOnInit() {\n    if (typeof this.event === 'undefined') {\n      this.event = this.platform.is('mobile') ?\n        this.mobileEvent : this.desktopEvent;\n    }\n\n    // if the timer hasn't expired or active is true when the component gets destroyed, the tooltip will remain in the DOM\n    // this removes it\n    this.removeTooltip();\n  }\n\n  /**\n   * Show the tooltip immediately after initiating view if set to\n   */\n  ngAfterViewInit() {\n    if (this._active) {\n      this.trigger();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this._tooltipElement && typeof this._tooltipElement.destroy === 'function') {\n      this._tooltipElement.destroy();\n    }\n  }\n\n  /**\n   * Set the canShow property\n   * Ensure that tooltip is shown only if the tooltip string is not falsey\n   */\n  set canShow(show: boolean) {\n    this._canShow = show;\n  }\n\n  /**\n   * @return TRUE if the tooltip can be shown\n   */\n  get canShow():boolean {\n    return this._canShow &&\n      ((typeof this.tooltip === 'string' && this.tooltip !== '')\n        || (typeof this.tooltipHtml === 'string' && this.tooltipHtml !== ''));\n  }\n\n  /**\n   * Handles the click/press event and shows a tooltip.\n   * If a tooltip already exists, it will just reset it's timer.\n   */\n  trigger():void {\n    if (this.canShow) {\n      if (this._tooltipElement) {\n        this._resetTimer();\n      } else {\n        this.showTooltip();\n      }\n    }\n  }\n\n  /**\n   * Creates a new tooltip component and adjusts it's properties to show properly.\n   */\n  showTooltip():void {\n    this._debouncedPromise = setTimeout(\n      () => {\n        this._debouncedPromise = null;\n\n        this._createTooltipComponent();\n\n        const tooltipComponent: TooltipBox = this._tooltipElement.instance;\n\n        tooltipComponent.role = this.role;\n        tooltipComponent.text = this.tooltip;\n        tooltipComponent.tooltipStyles = this.tooltipStyles;\n        tooltipComponent.tooltipHtml = this.tooltipHtml;\n        tooltipComponent.init.then(() => {\n          const tooltipPosition = this._getTooltipPosition();\n\n          tooltipComponent.posLeft = tooltipPosition.left;\n          tooltipComponent.posTop = tooltipPosition.top;\n\n          tooltipComponent.fadeState = 'visible';\n\n          if (this.arrow) {\n            let arrowPosition;\n            if (this.positionV === 'top') {\n              arrowPosition = this.positionH === 'center' ? 'bottom-center' : 'bottom';\n            } else if (this.positionV === 'bottom') {\n              arrowPosition = this.positionH === 'center' ? 'top-center' : 'top';\n            } else if (this.positionH === 'left') {\n              arrowPosition = 'right';\n            } else {\n              arrowPosition = 'left';\n            }\n            tooltipComponent.arrow = arrowPosition;\n          }\n\n          if (!this._active) {\n            this._tooltipTimeout = setTimeout(\n              this.removeTooltip.bind(this),\n              this.duration,\n            );\n          }\n        });\n      },\n      this.debounce\n    );\n  }\n\n  @HostListener('click')\n  onClick():void {\n    if (this.event === TooltipEvent.CLICK) {\n      this.trigger();\n    }\n  }\n\n  @HostListener('press')\n  onPress():void {\n    if (this.event === TooltipEvent.PRESS) {\n      this.trigger();\n    }\n  }\n\n  @HostListener('mouseenter')\n  onMouseEnter():void {\n    if (this.event === TooltipEvent.HOVER) {\n      this.active = true;\n    }\n  }\n\n  @HostListener('mouseleave')\n  onMouseLeave():void {\n    if (this.event === TooltipEvent.HOVER) {\n      this.active = false;\n    }\n  }\n\n  private _createTooltipComponent() {\n    const componentFactory = this.cfr.resolveComponentFactory(TooltipBox);\n    this._tooltipElement = this.vcr.createComponent(componentFactory);\n    this.tooltipCtrl.addTooltip(this);\n  }\n\n  private _getTooltipPosition() {\n    const tooltipNativeElement:HTMLElement = this._tooltipElement.instance.getNativeElement(),\n      el:HTMLElement = this.el.nativeElement,\n      rect:ClientRect = el.getBoundingClientRect();\n\n    let positionLeft:number,\n      positionTop:number,\n      spacing = 10;\n\n    if (this.navTooltip) {\n      this.positionV = 'bottom';\n      this.arrow = false;\n      spacing = 20;\n    }\n\n    if (this.positionH === 'right') {\n      positionLeft = rect.right + spacing;\n    } else if (this.positionH === 'left') {\n      positionLeft = rect.left - spacing - tooltipNativeElement.offsetWidth;\n      // -79, 19\n    } else if (this.positionH === 'center') {\n      positionLeft = rect.left - (tooltipNativeElement.offsetWidth - el.offsetWidth) / 2; \n    } else if (this.navTooltip) {\n      positionLeft = rect.left + el.offsetWidth / 2;\n    } else {\n      positionLeft = rect.left;\n    }\n\n\n    if (this.positionV === 'top') {\n      positionTop = rect.top - spacing - tooltipNativeElement.offsetHeight;\n    } else if (this.positionV === 'bottom') {\n      positionTop = rect.bottom + spacing;\n    } else {\n      positionTop = rect.top + el.offsetHeight / 2 - tooltipNativeElement.offsetHeight / 2;\n    }\n\n    this.topOffset++;\n    if (this.topOffset) {\n      positionTop += +this.topOffset;\n    }\n\n    this.leftOffset++;\n    if (this.leftOffset) {\n      positionLeft += +this.leftOffset;\n    }\n\n    if (positionLeft + tooltipNativeElement.offsetWidth + spacing > this.platform.width()) {\n      positionLeft = this.platform.width() - tooltipNativeElement.offsetWidth - spacing;\n    } else if (positionLeft + tooltipNativeElement.offsetWidth - spacing < 0) {\n      positionLeft = spacing;\n    }\n\n    if (positionTop + tooltipNativeElement.offsetHeight + spacing > this.platform.height()) {\n      positionTop = this.platform.height() - tooltipNativeElement.offsetHeight - spacing;\n    } else if (positionTop + tooltipNativeElement.offsetHeight - spacing < 0) {\n      positionTop = spacing;\n    }\n\n    return {\n      left: positionLeft,\n      top:  positionTop,\n    };\n  }\n\n  removeTooltip() {\n    if (this._debouncedPromise) {\n      clearTimeout(this._debouncedPromise);\n\n      this._debouncedPromise = null;\n    }\n\n    if (!this._tooltipElement) {\n      this._tooltipElement = undefined;\n      this._tooltipTimeout = undefined;\n      return;\n    }\n\n    this._tooltipElement.instance.fadeState = 'invisible';\n\n    this.canShow = false;\n\n    // wait for animation to finish then clear everything out\n    setTimeout(\n      () => {\n        if (\n          this._tooltipElement &&\n          typeof this._tooltipElement.destroy === 'function'\n        ) {\n          this._tooltipElement.destroy();\n        }\n        this.tooltipCtrl.removeTooltip(this);\n        this._tooltipElement = this._tooltipTimeout = undefined;\n        this.canShow = true;\n      },\n      300\n    );\n  }\n\n  private _resetTimer():void {\n    clearTimeout(this._tooltipTimeout);\n    this._tooltipTimeout = setTimeout(() => {\n      this.active = false;\n    }, this.duration);\n  }\n}\n","import {CommonModule} from '@angular/common';\nimport {ModuleWithProviders, NgModule} from '@angular/core';\n\nimport {TooltipBox} from './components/tooltip-box/tooltip-box.component';\nimport {TooltipController} from './controllers/tooltip.cotroller';\nimport {TooltipDirective} from './directives/tooltip.directive';\n\n@NgModule({\n  declarations: [\n    TooltipDirective,\n    TooltipBox\n  ],\n  entryComponents: [\n    TooltipBox\n  ],\n  exports: [\n    TooltipDirective\n  ],\n  imports: [\n    CommonModule\n  ]\n})\nexport class TooltipsModule {\n  static forRoot():ModuleWithProviders {\n    return {\n      ngModule: TooltipsModule,\n      providers: [\n        TooltipController\n      ],\n    };\n  }\n}\n"]}