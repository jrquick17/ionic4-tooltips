!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/animations"),require("@angular/core"),require("@ionic/angular"),require("@angular/common")):"function"==typeof define&&define.amd?define("ionic4-tooltips",["exports","@angular/animations","@angular/core","@ionic/angular","@angular/common"],o):o((t=t||self)["ionic4-tooltips"]={},t.ng.animations,t.ng.core,t.angular,t.ng.common)}(this,(function(t,o,e,i,n){"use strict";var r=function(){function t(t,o){var e=this;this.elementRef=t,this.rnd=o,this.fadeState="invisible",this.role="status",this.tooltipStyles={},this.init=new Promise((function(t){e.initResolve=t}))}return Object.defineProperty(t.prototype,"arrow",{set:function(t){this.rnd.setAttribute(this.getNativeElement(),"class","has-arrow arrow-"+t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"posTop",{set:function(t){this.rnd.setStyle(this.getNativeElement(),"top",t+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"posLeft",{set:function(t){this.rnd.setStyle(this.getNativeElement(),"left",t+"px")},enumerable:!0,configurable:!0}),t.prototype.getNativeElement=function(){return this.elementRef.nativeElement},t.prototype.ngAfterViewInit=function(){this.initResolve()},t.decorators=[{type:e.Component,args:[{selector:"tooltip-box",template:'<div class="tooltip-box"\n     [attr.aria-role]="role"\n     [ngStyle]="tooltipStyles">\n  <div *ngIf="tooltipHtml; else txt" [innerHTML]="tooltipHtml"></div>\n\n  <ng-template #txt><div [innerHtml]="text"></div></ng-template>\n</div>\n',animations:[o.trigger("fade",[o.state("visible",o.style({opacity:1})),o.state("invisible",o.style({opacity:0})),o.transition("visible <=> invisible",o.animate("300ms linear"))])],changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[':root{--background:white;--color:#000}:host{background-color:var(--background);color:var(--color);display:inline-block;position:fixed;padding:15px 25px;font-size:15px;z-index:3}:host.has-arrow:before{content:"";border:5px solid transparent;position:absolute;width:0;height:0}:host.has-arrow.arrow-top:before{border-bottom:5px solid var(--background);top:-10px}:host.has-arrow.arrow-left:before{border-right:5px solid var(--background);left:-10px}:host.has-arrow.arrow-right:before{border-left:5px solid var(--background);right:-10px}:host.has-arrow.arrow-bottom:before{border-top:5px solid var(--background);bottom:-10px}:host.has-arrow.arrow-bottom-center:before{border-top:5px solid var(--background);bottom:-10px;left:50%;transform:translateX(-50%)}:host.has-arrow.arrow-top-center:before{border-bottom:5px solid var(--background);top:-10px;left:50%;transform:translateX(-50%)}']}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},t.propDecorators={fadeState:[{type:e.HostBinding,args:["@fade"]}],role:[{type:e.Input}],text:[{type:e.Input}],tooltipHtml:[{type:e.Input}],tooltipStyles:[{type:e.Input}],arrow:[{type:e.Input}],posTop:[{type:e.Input}],posLeft:[{type:e.Input}]},t}();var s=function(){function t(){this.allowMultiple=!0,this.activeTooltips=[]}return t.prototype.addTooltip=function(t){(t.hideOthers||!this.allowMultiple&&this.activeTooltips.length>0)&&this.hideAll(),this.activeTooltips.push(t)},t.prototype.removeTooltip=function(t){this.activeTooltips.splice(this.activeTooltips.indexOf(t),1)},t.prototype.hideAll=function(){this.activeTooltips.forEach((function(t){t.removeTooltip()}))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var p="click",l="hover",a="press",h=function(){function t(t,o,e,i,n,r){this.el=t,this.appRef=o,this.platform=e,this.cfr=i,this.tooltipCtrl=n,this.vcr=r,this.debounce=0,this.desktopEvent=l,this.tooltipStyles={},this.duration=3e3,this._active=!1,this._arrow=!1,this._canShow=!0,this._debouncedPromise=null,this._navTooltip=!1}return Object.defineProperty(t.prototype,"navTooltip",{get:function(){return this._navTooltip},set:function(t){this._navTooltip="boolean"!=typeof t||!1!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrow",{get:function(){return this._arrow},set:function(t){this._arrow="boolean"!=typeof t||!1!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){this._active="boolean"!=typeof t||!1!==t,this._active&&this.canShow?this.showTooltip():this.removeTooltip()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){void 0===this.event&&(this.event=this.platform.is("mobile")?this.mobileEvent:this.desktopEvent),this.removeTooltip()},t.prototype.ngAfterViewInit=function(){this._active&&this.trigger()},t.prototype.ngOnDestroy=function(){this._tooltipElement&&"function"==typeof this._tooltipElement.destroy&&this._tooltipElement.destroy()},Object.defineProperty(t.prototype,"canShow",{get:function(){return this._canShow&&("string"==typeof this.tooltip&&""!==this.tooltip||"string"==typeof this.tooltipHtml&&""!==this.tooltipHtml)},set:function(t){this._canShow=t},enumerable:!0,configurable:!0}),t.prototype.trigger=function(){this.canShow&&(this._tooltipElement?this._resetTimer():this.showTooltip())},t.prototype.showTooltip=function(){var t=this;this._debouncedPromise=setTimeout((function(){t._debouncedPromise=null,t._createTooltipComponent();var o=t._tooltipElement.instance;o.role=t.role,o.text=t.tooltip,o.tooltipStyles=t.tooltipStyles,o.tooltipHtml=t.tooltipHtml,o.init.then((function(){var e=t._getTooltipPosition();if(o.posLeft=e.left,o.posTop=e.top,o.fadeState="visible",t.arrow){var i=void 0;i="top"===t.positionV?"center"===t.positionH?"bottom-center":"bottom":"bottom"===t.positionV?"center"===t.positionH?"top-center":"top":"left"===t.positionH?"right":"left",o.arrow=i}t._active||(t._tooltipTimeout=setTimeout(t.removeTooltip.bind(t),t.duration))}))}),this.debounce)},t.prototype.onClick=function(){this.event===p&&this.trigger()},t.prototype.onPress=function(){this.event===a&&this.trigger()},t.prototype.onMouseEnter=function(){this.event===l&&(this.active=!0)},t.prototype.onMouseLeave=function(){this.event===l&&(this.active=!1)},t.prototype._createTooltipComponent=function(){var t=this.cfr.resolveComponentFactory(r);this._tooltipElement=this.vcr.createComponent(t),this.tooltipCtrl.addTooltip(this)},t.prototype._getTooltipPosition=function(){var t,o,e=this._tooltipElement.instance.getNativeElement(),i=this.el.nativeElement,n=i.getBoundingClientRect(),r=10;return this.navTooltip&&(this.positionV="bottom",this.arrow=!1,r=20),t="right"===this.positionH?n.right+r:"left"===this.positionH?n.left-r-e.offsetWidth:"center"===this.positionH?n.left-(e.offsetWidth-i.offsetWidth)/2:this.navTooltip?n.left+i.offsetWidth/2:n.left,o="top"===this.positionV?n.top-r-e.offsetHeight:"bottom"===this.positionV?n.bottom+r:n.top+i.offsetHeight/2-e.offsetHeight/2,this.topOffset++,this.topOffset&&(o+=+this.topOffset),this.leftOffset++,this.leftOffset&&(t+=+this.leftOffset),t+e.offsetWidth+r>this.platform.width()?t=this.platform.width()-e.offsetWidth-r:t+e.offsetWidth-r<0&&(t=r),o+e.offsetHeight+r>this.platform.height()?o=this.platform.height()-e.offsetHeight-r:o+e.offsetHeight-r<0&&(o=r),{left:t,top:o}},t.prototype.removeTooltip=function(){var t=this;if(this._debouncedPromise&&(clearTimeout(this._debouncedPromise),this._debouncedPromise=null),!this._tooltipElement)return this._tooltipElement=void 0,void(this._tooltipTimeout=void 0);this._tooltipElement.instance.fadeState="invisible",this.canShow=!1,setTimeout((function(){t._tooltipElement&&"function"==typeof t._tooltipElement.destroy&&t._tooltipElement.destroy(),t.tooltipCtrl.removeTooltip(t),t._tooltipElement=t._tooltipTimeout=void 0,t.canShow=!0}),300)},t.prototype._resetTimer=function(){var t=this;clearTimeout(this._tooltipTimeout),this._tooltipTimeout=setTimeout((function(){t.active=!1}),this.duration)},t.decorators=[{type:e.Directive,args:[{selector:"[tooltip]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ApplicationRef},{type:i.Platform},{type:e.ComponentFactoryResolver},{type:s},{type:e.ViewContainerRef}]},t.propDecorators={debounce:[{type:e.Input}],desktopEvent:[{type:e.Input}],event:[{type:e.Input}],hideOthers:[{type:e.Input}],leftOffset:[{type:e.Input}],mobileEvent:[{type:e.Input}],positionV:[{type:e.Input}],positionH:[{type:e.Input}],role:[{type:e.Input}],tooltip:[{type:e.Input}],tooltipHtml:[{type:e.Input}],tooltipStyles:[{type:e.Input}],topOffset:[{type:e.Input}],navTooltip:[{type:e.Input}],arrow:[{type:e.Input}],duration:[{type:e.Input}],active:[{type:e.Input}],onClick:[{type:e.HostListener,args:["click"]}],onPress:[{type:e.HostListener,args:["press"]}],onMouseEnter:[{type:e.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:e.HostListener,args:["mouseleave"]}]},t}();var f=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[s]}},t.decorators=[{type:e.NgModule,args:[{declarations:[h,r],entryComponents:[r],exports:[h],imports:[n.CommonModule]}]}],t}();t.TooltipBox=r,t.TooltipController=s,t.TooltipDirective=h,t.TooltipsModule=f,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ionic4-tooltips.umd.min.js.map